def digipot_table():
    global value
    if value == 0:
        resistance = 87
        return resistance
    elif value == 1:
        resistance = 158
        return resistance
    elif value == 2:
        resistance = 230
        return resistance
    elif value == 3:
        resistance = 300
        return resistance
    elif value == 4:
        resistance = 375
        return resistance
    elif value == 5:
        resistance = 450
        return resistance
    elif value == 6:
        resistance = 510
        return resistance
    elif value == 7:
        resistance = 580
        return resistance
    elif value == 8:
        resistance = 650
        return resistance
    elif value == 9:
        resistance = 725
        return resistance
    elif value == 10:
        resistance = 800
        return resistance
    elif value == 11:
        resistance = 860
        return resistance
    elif value == 12:
        resistance = 940
        return resistance
    elif value == 13:
        resistance = 1000
        return resistance
    elif value == 14:
        resistance = 1075
        return resistance
    elif value == 15:
        resistance = 1150
        return resistance
    elif value == 16:
        resistance = 1220
        return resistance
    elif value == 17:
        resistance = 1300
        return resistance
    elif value == 18:
        resistance = 1360
        return resistance
    elif value == 19:
        resistance = 1430
        return resistance
    elif value == 20:
        resistance = 1500
        return resistance
    elif value == 21:
        resistance = 1575
        return resistance
    elif value == 22:
        resistance = 1640
        return resistance
    elif value == 23:
        resistance = 1710
        return resistance
    elif value == 24:
        resistance = 1775
        return resistance
    elif value == 25:
        resistance = 1850
        time.sleep(.1)
        return resistance
    elif value == 26:
        resistance = 1920
        return resistance
    elif value == 27:
        resistance = 1985
        return resistance
    elif value == 28:
        resistance = 2050
        return resistance
    elif value == 29:
        resistance = 2125
        return resistance
    elif value == 30:
        resistance = 2200
        return resistance
    elif value == 31:
        resistance = 2260
        return resistance
    elif value == 32:
        resistance = 2320
        return resistance
    elif value == 33:
        resistance = 2400
        return resistance
    elif value == 34:
        resistance = 2470
        return resistance
    elif value == 35:
        resistance = 2535
        return resistance
    elif value == 36:
        resistance = 2590
        return resistance
    elif value == 37:
        resistance = 2675
        return resistance
    elif value == 38:
        resistance = 2740
        return resistance
    elif value == 39:
        resistance = 2810
        return resistance
    elif value == 40:
        resistance = 2860
        return resistance
    elif value == 41:
        resistance = 2950
        return resistance
    elif value == 42:
        resistance = 3020
        return resistance
    elif value == 43:
        resistance = 3080
        return resistance
    elif value == 44:
        resistance = 3125
        return resistance
    elif value == 45:
        resistance = 3215
        return resistance
    elif value == 46:
        resistance = 3290 
        return resistance
    elif value == 47:
        resistance = 3350
        return resistance
    elif value == 48:
        resistance = 3390
        return resistance
    elif value == 49:
        resistance = 3480
        return resistance
    elif value == 50:
        resistance = 3560
        return resistance
    elif value == 51:
        resistance = 3620
        return resistance
    elif value == 52:
        resistance = 3650
        return resistance
    elif value == 53:
        resistance = 3750
        return resistance
    elif value == 54:
        resistance = 3820
        return resistance
    elif value == 55:
        resistance = 3890
        return resistance
    elif value == 56:
        resistance = 3910
        return resistance
    elif value == 57:
        resistance = 4015
        return resistance
    elif value == 58:
        resistance = 4090
        return resistance
    elif value == 59:
        resistance = 4150
        return resistance
    elif value == 60:
        resistance = 4170
        return resistance
    elif value == 61:
        resistance = 4280
        return resistance
    elif value == 62:
        resistance = 4360
        return resistance
    elif value == 63:
        resistance = 4420
        return resistance
    elif value == 64:
        resistance = 4420
        return resistance
    elif value == 65:
        resistance = 4540
        return resistance
    elif value == 66:
        resistance = 4620
        return resistance
    elif value == 67:
        resistance = 4685
        return resistance
    elif value == 68:
        resistance = 4675
        return resistance
    elif value == 69:
        resistance = 4796
        return resistance
    elif value == 70:
        resistance = 4880
        return resistance
    elif value == 71:
        resistance = 4945
        return resistance
    elif value == 72:
        resistance = 4925
        return resistance
    elif value == 73:
        resistance = 5050
        return resistance
    elif value == 74:
        resistance = 5235
        return resistance
    elif value == 75:
        resistance = 5310
        return resistance
    elif value == 76:
        resistance = 5345
        return resistance
    elif value == 77:
        resistance = 5420
        return resistance
    elif value == 78:
        resistance = 5500
        return resistance
    elif value == 79:
        resistance = 5575
        return resistance
    elif value == 80:
        resistance = 5610
        return resistance
    elif value == 81:
        resistance = 5690
        return resistance
    elif value == 82:
        resistance = 5765
        return resistance
    elif value == 83:
        resistance = 5840
        return resistance
    elif value == 84:
        resistance = 5870
        return resistance
    elif value == 85:
        resistance = 5950
        return resistance
    elif value == 86:
        resistance = 6030
        return resistance
    elif value == 87:
        resistance = 6100
        return resistance
    elif value == 88:
        resistance = 6130
        return resistance
    elif value == 89:
        resistance = 6210
        return resistance
    elif value == 90:
        resistance = 6290
        return resistance
    elif value == 91:
        resistance = 6370
        return resistance
    elif value == 92:
        resistance = 6390
        return resistance
    elif value == 93:
        resistance = 6470
        return resistance
    elif value == 94:
        resistance = 6550
        return resistance
    elif value == 95:
        resistance = 6630
        return resistance
    elif value == 96:
        resistance = 6635
        return resistance
    elif value == 97:
        resistance = 6720
        return resistance
    elif value == 98:
        resistance = 6800
        return resistance
    elif value == 99:
        resistance = 6885
        return resistance
    elif value == 100:
        resistance = 6885
        return resistance
    elif value == 101:
        resistance = 6975
        return resistance
    elif value == 102:
        resistance = 7050
        return resistance
    elif value == 103:
        resistance = 7140
        return resistance
    elif value == 104:
        resistance = 7130
        return resistance
    elif value == 105:
        resistance = 7220
        return resistance
    elif value == 106:
        resistance = 7300
        return resistance
    elif value == 107:
        resistance = 7390
        return resistance
    elif value == 108:
        resistance = 7375
        return resistance
    elif value == 109:
        resistance = 7465
        return resistance
    elif value == 110:
        resistance = 7555
        return resistance
    elif value == 111:
        resistance = 7640
        return resistance
    elif value == 112:
        resistance = 7620
        return resistance
    elif value == 113:
        resistance = 7710
        return resistance
    elif value == 114: 
        resistance = 7800
        return resistance
    elif value == 115:
        resistance = 7890
        return resistance
    elif value == 116:
        resistance = 7860
        return resistance
    elif value == 117:
        resistance = 7950
        return resistance
    elif value == 118:
        resistance = 8045
        return resistance
    elif value == 119:
        resistance = 8130
        return resistance
    elif value == 120:
        resistance = 8100
        return resistance
    elif value == 121:
        resistance = 8195
        return resistance
    elif value == 122:
        resistance = 8285
        return resistance
    elif value == 123:
        resistance = 8375
        return resistance
    elif value == 124:
        resistance = 8330
        return resistance
    elif value == 125:
        resistance = 8435
        return resistance
    elif value == 126:
        resistance = 8530
        return resistance
    elif value == 127:
        resistance = 8620
        return resistance
    elif value == 128:
        resistance = 8700
        return resistance
    else:
        lcd.setCursor(0,1)
        lcd.printout("Greater than 8700 ohms")


def ohm():
    global Ohm_Selected
    global value
    global resistance
    global ohm
    lcd.setCursor(0,0)
    lcd.printout("Resistance:")
    previous_value = GPIO.input(5)
    if previous_value == 1:
        resistance = digipot_table()
        lcd.setCursor(0, 1)
        lcd.printout(f"{resistance} ohms")
        print(f"{resistance} = resistance")
        value = 0
        previous_value = 0
        pi1.spi_write(h, [0b0000_0000, value])
        time.sleep(1)
    elif value > 128:
        print("Resistance Greater than 8700 ohms")
        value = 0
    else:
        pi1.spi_write(h, [0b0000_0000, value])
        value += 1


#End of ohm meter function


